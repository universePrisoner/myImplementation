<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
	<script>
	
	(function() {
		Array.prototype.forEach = function(cb, scope) {
			if ( typeof this !== 'object') {
				throw new Error('It is not an array you have applied me to');
			}
			
			if ( ! this.length ) {
				return undefined;
			}
			
			if ( typeof cb !== 'function' ) {
				throw new Error('Please define a callback function');
			}
			
			const localScope = scope || undefined;
			const indexes    = Object.keys(this);
			
			for ( let k = 0; k < indexes.length; k++ ) {
				const key = indexes[k];
				
				if ( key === 'length' ) continue;
				
				if ( localScope ) {
					cb.call(localScope, this[key], key, this);
				} else {
					cb(this[key], key, this);
				}
				
			}
			
			return undefined;
		}
		
		const testObj = {
			'a':1,
			'b':3,
			'c':'asdfasfd',
			length: 2
		};

		Array.prototype.forEach.call(testObj ,
			function(elem, idx, obj) {
				console.log({elem,idx, obj, scope: this})
			},
			{
				name: 'zeroWheel',
				data: 'object'

			}
		);


		const testArrayObj = [32,23242,23423,4234,'asdfasfd'];

		testArrayObj.forEach(
			function(elem, idx, arr) {
					console.log({elem,idx,  arr, scope: this})
			}, {
				name: 'zeroWheel',
				data: 'object:array'
			});
	})();
	</script>
</body>
</html>
